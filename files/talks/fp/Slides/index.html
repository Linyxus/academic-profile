<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Introduction to Functional Programming</title><meta charset="UTF-8"></meta><meta name="generator" content="Hovercraft! 1.0 http://regebro.github.com/hovercraft"></meta><meta name="author" content="Linyxus"></meta><meta name="description" content="The Hovercraft! tutorial."></meta><meta name="keywords" content="presentation, restructuredtext, impress.js, tutorial"></meta><link rel="stylesheet" href="css/hovercraft.css" media="all"></link><link rel="stylesheet" href="css/highlight.css" media="all"></link><link rel="stylesheet" href="tutorial.css" media="screen,projection"></link><script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        showProcessingMessages: false,
        messageStyle: "none",
        TeX : { extensions : ['color.js'] }
      });
    </script><script type="text/javascript" src="js/fastjs.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script></head><body class="impress-not-supported"><div id="impress-help"></div><div id="impress"><div class="step step-level-1" step="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="0" data-y="0" data-z="0"><h1 id="id1">&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#x5165;&#x95E8;</h1></div><div class="step step-level-1" step="1" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="1600" data-y="0" data-z="0"><h1 id="part-i">Part I: &#x4EC0;&#x4E48;&#x662F;&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#xFF1F;</h1></div><div class="step step-level-1" step="2" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="3200" data-y="0" data-z="0"><ul><li>&#x4E00;&#x79CD;&#x7F16;&#x7A0B;&#x8303;&#x5F0F;</li><li>&#x7F16;&#x7A0B;&#x8303;&#x5F0F;<ul><li>&#x547D;&#x4EE4;&#x5F0F;&#x7F16;&#x7A0B; :: &#x9762;&#x5411;&#x5BF9;&#x8C61;&#xFF0C;&#x9762;&#x5411;&#x8FC7;&#x7A0B;</li><li>&#x58F0;&#x660E;&#x5F0F;&#x7F16;&#x7A0B; :: &#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;</li></ul></li></ul></div><div class="step step-level-1" step="3" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="4800" data-y="0" data-z="0"><h1 id="id2">&#x51E0;&#x4E2A;&#x4F8B;&#x5B50;</h1></div><div class="step step-level-1" step="4" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="6400" data-y="0" data-z="0"><p>&#x5C06;&#x6570;&#x7EC4;&#x4E2D;&#x6240;&#x6709;&#x6570;&#x5E73;&#x65B9;</p><ul><li>&#x547D;&#x4EE4;&#x5F0F; (in Python)</li></ul><pre class="highlight code python"><span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">xs</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">xs</span><span class="p">)):</span>
    <span class="n">xs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">xs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">**</span> <span class="mi">2</span>
    <span class="k">return</span> <span class="n">xs</span></pre><ul><li>&#x51FD;&#x6570;&#x5F0F; (in Haskell)</li></ul><pre class="highlight code haskell"><span class="nf">foo</span> <span class="ow">::</span> <span class="p">[</span><span class="kt">Int</span><span class="p">]</span> <span class="ow">-&gt;</span> <span class="p">[</span><span class="kt">Int</span><span class="p">]</span>
<span class="nf">foo</span> <span class="n">xs</span> <span class="ow">=</span> <span class="n">map</span> <span class="p">(</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span> <span class="n">xs</span></pre></div><div class="step step-level-1" step="5" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="8000" data-y="0" data-z="0"><p>&#x7EBF;&#x6027;&#x7D20;&#x6570;&#x7B5B;&#x6CD5; <span class="math ">\(O(nloglogn)\)</span></p><ul><li>&#x547D;&#x4EE4;&#x5F0F; (in Python)</li></ul><pre class="highlight code python"><span class="k">def</span> <span class="nf">primes</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">P</span> <span class="o">=</span> <span class="p">[</span><span class="kc">True</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">P</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
                <span class="n">P</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">P</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span></pre><ul><li>&#x51FD;&#x6570;&#x5F0F; (in Haskell)</li></ul><pre class="highlight code haskell"><span class="nf">primes</span> <span class="ow">::</span> <span class="kt">Int</span> <span class="ow">-&gt;</span> <span class="p">[</span><span class="kt">Int</span><span class="p">]</span>
<span class="nf">primes</span> <span class="n">n</span> <span class="ow">=</span> <span class="n">takeWhile</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">n</span><span class="p">)</span> <span class="p">(</span><span class="n">filterPrime</span> <span class="p">[</span><span class="mi">2</span><span class="o">..</span><span class="p">])</span>
  <span class="kr">where</span> <span class="n">filterPrime</span> <span class="p">(</span><span class="n">p</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span> <span class="ow">=</span>
          <span class="n">p</span> <span class="kt">:</span> <span class="n">filterPrime</span> <span class="p">[</span><span class="n">x</span> <span class="o">|</span> <span class="n">x</span> <span class="ow">&lt;-</span> <span class="n">xs</span><span class="p">,</span> <span class="n">x</span> <span class="p">`</span><span class="n">mod</span><span class="p">`</span> <span class="n">p</span> <span class="o">/=</span> <span class="mi">0</span><span class="p">]</span></pre></div><div class="step step-level-1" step="6" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="9600" data-y="0" data-z="0"><p>&#x6C42;&#x51FA;&#x6240;&#x6709;&#x5C0F;&#x4E8E;23333&#x7684;&#x5947;&#x5E73;&#x65B9;&#x6570;&#x7684;&#x5E73;&#x65B9;&#x548C;(&#x5E73;&#x65B9;&#x6570;&#x7684;&#x5E73;&#x65B9;&#x548C;)</p><ul><li>&#x547D;&#x4EE4;&#x5F0F; (in C++)</li></ul><pre class="highlight code c++"><span class="kt">int</span> <span class="nf">bar</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">23333</span><span class="p">)</span> <span class="k">break</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="n">ans</span> <span class="o">+=</span> <span class="n">i</span> <span class="o">*</span> <span class="n">i</span> <span class="o">*</span> <span class="n">i</span> <span class="o">*</span> <span class="n">i</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">ans</span><span class="p">;</span>
<span class="p">}</span></pre><ul><li>&#x51FD;&#x6570;&#x5F0F; (in Haskell)</li></ul><pre class="highlight code haskell"><span class="nf">oddSquareSum</span> <span class="ow">=</span> <span class="p">(</span><span class="n">sum</span> <span class="o">.</span> <span class="n">map</span> <span class="p">(</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span> <span class="o">.</span> <span class="n">takeWhile</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">10000</span><span class="p">)</span> <span class="o">.</span> <span class="n">filter</span> <span class="n">odd</span><span class="p">)</span>
                 <span class="p">(</span><span class="n">map</span> <span class="p">(</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="p">])</span></pre></div><div class="step step-level-1" step="7" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="11200" data-y="0" data-z="0"><p>&#x547D;&#x4EE4;&#x5F0F;&#x7F16;&#x7A0B;&#x4E0E;&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#x7684;&#x4E3B;&#x8981;&#x533A;&#x522B;&#xFF1A;</p><ul><li>&#x547D;&#x4EE4;&#x5F0F;&#x7F16;&#x7A0B;&#x5173;&#x6CE8;&#x7684;&#x662F;"what"&#xFF0C;&#x5373;"&#x505A;&#x4EC0;&#x4E48;"&#xFF0C;&#x5B83;&#x6309;&#x6B65;&#x9AA4;&#x89C4;&#x5B9A;&#x7A0B;&#x5E8F;&#x8981;&#x505A;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x5E76;&#x5728;&#x8FD9;&#x4E00;&#x8FC7;&#x7A0B;&#x4E2D;&#x6539;&#x53D8;&#x72B6;&#x6001;(&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x5185;&#x5B58;&#x3001;&#x786C;&#x76D8;)&#xFF1B;</li><li>&#x58F0;&#x660E;&#x5F0F;&#x7F16;&#x7A0B;&#xFF0C;&#x6216;&#x8005;&#x66F4;&#x786E;&#x5207;&#x4E9B;&#xFF0C;&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#x5173;&#x6CE8;&#x7684;&#x662F;"how"&#xFF0C;&#x5373;"&#x600E;&#x4E48;&#x505A;"&#xFF0C;&#x5B83;&#x63CF;&#x8FF0;&#x5904;&#x7406;&#x6570;&#x636E;&#x7684;&#x65B9;&#x5F0F;(&#x5B9A;&#x4E49;&#x51FD;&#x6570;)&#xFF0C;&#x7EC4;&#x5408;&#x8FD9;&#x4E9B;"&#x65B9;&#x5F0F;"&#xFF0C;&#x6765;&#x5B8C;&#x6210;&#x5BF9;&#x6570;&#x636E;&#x7684;&#x5904;&#x7406;&#xFF1B;</li></ul></div><div class="step step-level-1" step="8" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="12800" data-y="0" data-z="0"><ul><li>&#x547D;&#x4EE4;&#x5F0F;&#x7F16;&#x7A0B;&#x66F4;&#x52A0;&#x8D34;&#x5408;&#x673A;&#x5668;&#x7684;&#x7ED3;&#x6784;</li><li>&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#x66F4;&#x52A0;&#x8D34;&#x5408;&#x6570;&#x5B66;&#x4E0E;&#x4EBA;&#x7684;&#x62BD;&#x8C61;&#x601D;&#x7EF4;</li></ul><p>&#x4E3E;&#x4F8B;&#xFF1A;</p><ul><li><span class="math ">\(x = x+1\)</span></li><li><span class="math ">\(f(x) = x+1\)</span></li></ul></div><div class="step step-level-1" step="9" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="14400" data-y="0" data-z="0"><h1 id="id3">&#x4E3B;&#x8981;&#x7279;&#x5F81;</h1></div><div class="step step-level-1" step="10" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="16000" data-y="0" data-z="0"><h1 id="first-class">&#x51FD;&#x6570;&#x662F;&#x5934;&#x7B49;&#x516C;&#x6C11; <em>(first-class)</em></h1><ol><li>&#x5934;&#x7B49;&#x516C;&#x6C11;&#xFF1A;&#x50CF;&#x503C;&#x4E00;&#x6837;&#x88AB;&#x4F20;&#x9012;&#x3001;&#x8FD4;&#x56DE;</li><li>&#x9AD8;&#x9636;&#x51FD;&#x6570; <em>(higher-order function)</em> &#xFF1A;&#x4EE5;&#x51FD;&#x6570;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#xFF0C;&#x6216;&#x8005;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x51FD;&#x6570;&#x3002;</li></ol><pre class="highlight code haskell"><span class="nf">compose</span> <span class="ow">::</span> <span class="p">(</span><span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">b</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="p">(</span><span class="n">b</span> <span class="ow">-&gt;</span> <span class="n">c</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="p">(</span><span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">c</span><span class="p">)</span>
<span class="nf">compose</span> <span class="n">f</span> <span class="n">g</span> <span class="ow">=</span> <span class="nf">\</span><span class="n">x</span> <span class="ow">-&gt;</span> <span class="n">f</span> <span class="p">(</span><span class="n">g</span> <span class="n">x</span><span class="p">)</span></pre><pre class="highlight code haskell"><span class="nf">flip</span> <span class="ow">::</span> <span class="p">(</span><span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="n">c</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="p">(</span><span class="n">b</span> <span class="ow">-&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">c</span><span class="p">)</span>
<span class="nf">flip</span> <span class="n">f</span> <span class="ow">=</span> <span class="nf">\</span><span class="n">x</span> <span class="n">y</span> <span class="ow">-&gt;</span> <span class="n">f</span> <span class="n">y</span> <span class="n">x</span></pre></div><div class="step step-level-1" step="11" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="17600" data-y="0" data-z="0"><h1 id="pure-function">&#x7EAF;&#x51FD;&#x6570;  <em>(pure function)</em></h1><ul><li>&#x65E0;&#x4EFB;&#x4F55;&#x526F;&#x4F5C;&#x7528;&#x7684;&#x51FD;&#x6570;</li><li>&#x4E0D;&#x4F9D;&#x8D56;&#x4E8E;&#x72B6;&#x6001;&#xFF0C;&#x4E5F;&#x4E0D;&#x6539;&#x53D8;&#x72B6;&#x6001;</li></ul><pre class="highlight code haskell"><span class="nf">addOne</span> <span class="ow">::</span> <span class="kt">Int</span> <span class="ow">-&gt;</span> <span class="kt">Int</span>
<span class="nf">addOne</span> <span class="n">x</span> <span class="ow">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span></pre><pre class="highlight code python"><span class="n">x</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></pre></div><div class="step step-level-1" step="12" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="19200" data-y="0" data-z="0"><h1 id="immutable">&#x4E0D;&#x53EF;&#x53D8;&#x6027; <em>(immutable)</em></h1><p>&#x6CA1;&#x6709;&#x53D8;&#x91CF;&#xFF0C;&#x6CA1;&#x6709;&#x8D4B;&#x503C;&#xFF0C;&#x53EA;&#x6709;&#x7ED1;&#x5B9A;&#x3002;</p><pre class="highlight code python"><span class="n">dic</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'a'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'c'</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="n">dic</span><span class="p">[</span><span class="s1">'b'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dic</span><span class="p">)</span></pre><pre class="highlight code clojure"><span class="p">(</span><span class="k">let </span><span class="p">[</span><span class="nv">m</span> <span class="p">{</span><span class="ss">:a</span> <span class="mi">1</span> <span class="ss">:b</span> <span class="mi">1</span> <span class="ss">:c</span> <span class="mi">3</span><span class="p">}]</span>
  <span class="p">(</span><span class="nb">println </span><span class="p">(</span><span class="nb">assoc </span><span class="nv">m</span> <span class="ss">:b</span> <span class="mi">2</span><span class="p">))</span>
  <span class="p">(</span><span class="nb">println </span><span class="nv">m</span><span class="p">))</span></pre></div><div class="step step-level-1" step="13" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="20800" data-y="0" data-z="0"><h1 id="recursion">&#x9012;&#x5F52; <em>(recursion)</em></h1><p>&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#x7684;&#x57FA;&#x672C;&#x6982;&#x5FF5;&#x4E2D;&#xFF0C;&#x6CA1;&#x6709;"&#x5FAA;&#x73AF;"(<tt>for</tt>, <tt>while</tt>, <tt>repeat</tt>)&#xFF0C;&#x53EA;&#x6709;&#x9012;&#x5F52;&#x3002;</p><ul><li>&#x5FAA;&#x73AF;&#xFF1A;&#x9762;&#x5411;&#x673A;&#x5668;&#x548C;&#x5177;&#x4F53;&#x601D;&#x7EF4;&#x3002;</li><li>&#x9012;&#x5F52;&#xFF1A;&#x8D34;&#x8FD1;&#x6570;&#x5B66;&#x548C;&#x62BD;&#x8C61;&#x601D;&#x7EF4;&#x3002;</li></ul></div><div class="step step-level-1" step="14" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="22400" data-y="0" data-z="0"><h1 id="n">&#x6C42;n&#x7EF4;&#x5411;&#x91CF;&#x70B9;&#x4E58;</h1><h2 id="id4">&#x5FAA;&#x73AF;</h2><pre class="highlight code python"><span class="k">def</span> <span class="nf">dot</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">ys</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">xs</span><span class="p">)</span>
    <span class="n">prod</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="n">prod</span> <span class="o">+=</span> <span class="n">xs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">ys</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">prod</span></pre><h2 id="id5">&#x9012;&#x5F52;</h2><pre class="highlight code haskell"><span class="nf">dot</span> <span class="ow">::</span> <span class="p">[</span><span class="kt">Double</span><span class="p">]</span> <span class="ow">-&gt;</span> <span class="p">[</span><span class="kt">Double</span><span class="p">]</span> <span class="ow">-&gt;</span> <span class="kt">Double</span>
<span class="nf">dot</span> <span class="kt">[]</span> <span class="kt">[]</span> <span class="ow">=</span> <span class="mf">0.0</span>
<span class="nf">dot</span> <span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span> <span class="p">(</span><span class="n">y</span><span class="kt">:</span><span class="n">ys</span><span class="p">)</span> <span class="ow">=</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="n">dot</span> <span class="n">xs</span> <span class="n">ys</span></pre><p>&#x501F;&#x52A9;&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#x5DE5;&#x5177;&#x7BB1;&#xFF1A;</p><pre class="highlight code haskell"><span class="nf">dot</span> <span class="n">xs</span> <span class="n">ys</span> <span class="ow">=</span> <span class="n">sum</span> <span class="o">$</span> <span class="n">zipWith</span> <span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="n">xs</span> <span class="n">ys</span></pre></div><div class="step step-level-1" step="15" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="24000" data-y="0" data-z="0"><h1 id="laziness">Laziness</h1><h2 id="id6">&#x60F0;&#x6027;&#x6C42;&#x503C;</h2><ul><li>&#x4E0D;&#x5230;&#x4E07;&#x4E0D;&#x5F97;&#x5DF2;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5E76;&#x4E0D;&#x4F1A;&#x6C42;&#x51FA;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#xFF0C;&#x6216;&#x8005;&#x66F4;&#x8D34;&#x5207;&#x4E9B;&#xFF0C;&#x4E0D;&#x4F1A;&#x5BF9;&#x8868;&#x8FBE;&#x5F0F;&#x8FDB;&#x884C;&#x6C42;&#x503C;(&#x8868;&#x8FBE;&#x5F0F;&#x5E26;&#x6765;&#x7684;&#x526F;&#x4F5C;&#x7528;&#x4E5F;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;)</li><li>&#x771F;&#x6B63;&#x9700;&#x8981;&#x7684;&#x65F6;&#x5019;&#xFF1A;&#x8F93;&#x51FA;&#x5230;&#x5C4F;&#x5E55;&#xFF0C;&#x5199;&#x5165;&#x6587;&#x4EF6;&#xFF0C;&#x6216;&#x8005;&#x5F3A;&#x5236;&#x6C42;&#x503C;</li><li>&#x5BF9;&#x4E8E;&#x5B9E;&#x73B0;&#x7684;&#x7406;&#x89E3;&#xFF1A;&#x7EBF;&#x6BB5;&#x6811;</li></ul></div><div class="step step-level-1" step="16" data-x="24000" data-y="1500" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-z="0"><h1 id="part-ii">Part II: &#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#x5DE5;&#x5177;&#x7BB1;</h1></div><div class="step step-level-1" step="17" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="24000" data-y="3000" data-z="0"><p>&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#x5DE5;&#x5177;&#x7BB1; <em>(functional programming toolbox)</em>: &#x4E00;&#x7EC4;&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#x4E2D;&#x5E38;&#x7528;&#x7684;&#x51FD;&#x6570;&#x3001;&#x5DE5;&#x5177;&#x6216;&#x8005;&#x601D;&#x7EF4;&#x3002;</p></div><div class="step step-level-1" step="18" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="24000" data-y="4500" data-z="0"><h1 id="map"><tt>map</tt></h1><p>&#x5C06;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x5E94;&#x7528;&#x5230;&#x5217;&#x8868;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x4E0A;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x7531;&#x7ED3;&#x679C;&#x7EC4;&#x6210;&#x7684;&#x65B0;&#x5217;&#x8868;&#x3002;</p><h2 id="example">Example</h2><pre class="highlight code haskell"><span class="nf">map</span> <span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="c1">-- [2,3,4]</span>
<span class="nf">map</span> <span class="p">(</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="c1">-- [1,4,9]</span>
<span class="nf">map</span> <span class="p">(</span><span class="nf">\</span><span class="n">x</span> <span class="ow">-&gt;</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="c1">-- [1,3,5]</span></pre><h2 id="id7">&#x5B9E;&#x73B0;</h2><pre class="highlight code haskell"><span class="nf">map</span> <span class="ow">::</span> <span class="p">(</span><span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">b</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="ow">-&gt;</span> <span class="p">[</span><span class="n">b</span><span class="p">]</span>
<span class="nf">map</span> <span class="kr">_</span> <span class="kt">[]</span> <span class="ow">=</span> <span class="kt">[]</span>
<span class="nf">map</span> <span class="n">f</span> <span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="n">f</span> <span class="n">x</span> <span class="kt">:</span> <span class="n">map</span> <span class="n">f</span> <span class="n">xs</span></pre></div><div class="step step-level-1" step="19" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="24000" data-y="6000" data-z="0"><h1 id="filter"><tt>filter</tt></h1><p>&#x7B5B;&#x9009;&#x51FA;&#x5217;&#x8868;&#x4E2D;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x5143;&#x7D20;&#x3002;</p><h2 id="id8">Example</h2><pre class="highlight code haskell"><span class="nf">filter</span> <span class="n">even</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span> <span class="c1">-- [2, 4]</span>
<span class="nf">filter</span> <span class="n">isPrime</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]</span> <span class="c1">-- [2,5,7]</span></pre><h2 id="id9">&#x5B9E;&#x73B0;</h2><pre class="highlight code haskell"><span class="nf">filter</span> <span class="ow">::</span> <span class="p">(</span><span class="n">a</span> <span class="ow">-&gt;</span> <span class="kt">Bool</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="ow">-&gt;</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span>
<span class="nf">filter</span> <span class="kr">_</span> <span class="kt">[]</span> <span class="ow">=</span> <span class="kt">[]</span>
<span class="nf">filter</span> <span class="n">p</span> <span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span>
     <span class="o">|</span> <span class="n">p</span> <span class="n">x</span> <span class="ow">=</span> <span class="n">x</span> <span class="kt">:</span> <span class="n">filter</span> <span class="n">xs</span>
     <span class="o">|</span> <span class="n">otherwise</span> <span class="ow">=</span> <span class="n">filter</span> <span class="n">xs</span></pre></div><div class="step step-level-1" step="20" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="24000" data-y="7500" data-z="0"><h1 id="fold"><tt>fold</tt></h1><ul><li>&#x4E5F;&#x5C31;&#x662F; <tt>reduce</tt></li><li><span class="math ">\(MapReduce\)</span></li></ul><h2 id="id10">Example</h2><pre class="highlight code haskell"><span class="nf">fold</span> <span class="p">(</span><span class="o">+</span><span class="p">)</span> <span class="mi">0</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span> <span class="c1">-- 15</span></pre><p>&#x7B49;&#x4EF7;&#x4E8E;</p><pre class="highlight code">5 + 0 =&gt; 5
4 + 5 =&gt; 9
3 + 9 =&gt; 12
2 + 12 =&gt; 14
1 + 14 =&gt; 15</pre><p>&#x5C55;&#x5F00;&#x4E3A;&#x8868;&#x8FBE;&#x5F0F;</p><pre class="highlight code haskell"><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="mi">3</span> <span class="o">+</span> <span class="p">(</span><span class="mi">4</span> <span class="o">+</span> <span class="p">(</span><span class="mi">5</span> <span class="o">+</span> <span class="mi">0</span><span class="p">)))))</span></pre></div><div class="step step-level-1" step="21" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="24000" data-y="9000" data-z="0"><h1 id="id11">&#x5B9E;&#x73B0;</h1><pre class="highlight code haskell"><span class="nf">foldr</span> <span class="ow">::</span> <span class="p">(</span><span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="n">b</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="ow">-&gt;</span> <span class="n">b</span>
<span class="nf">foldr</span> <span class="kr">_</span> <span class="n">z</span> <span class="kt">[]</span> <span class="ow">=</span> <span class="n">z</span>
<span class="nf">foldr</span> <span class="n">f</span> <span class="n">z</span> <span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="n">f</span> <span class="n">x</span> <span class="p">(</span><span class="n">foldr</span> <span class="n">f</span> <span class="n">z</span> <span class="n">xs</span><span class="p">)</span></pre></div><div class="step step-level-1" step="22" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="24000" data-y="10500" data-z="0"><h1 id="map-filter"><tt>map</tt>, <tt>filter</tt></h1><ul><li>&#x66F4;&#x666E;&#x9002;&#x7684;&#x62BD;&#x8C61;</li><li><tt>map</tt></li></ul><pre class="highlight code haskell"><span class="nf">map</span> <span class="n">f</span> <span class="n">xs</span> <span class="ow">=</span> <span class="n">foldr</span> <span class="p">(</span><span class="nf">\</span><span class="n">x</span> <span class="n">acc</span> <span class="ow">-&gt;</span> <span class="n">f</span> <span class="n">x</span> <span class="kt">:</span> <span class="n">acc</span><span class="p">)</span> <span class="kt">[]</span> <span class="n">xs</span></pre><ul><li><tt>filter</tt></li></ul><pre class="highlight code haskell"><span class="nf">filter</span> <span class="n">f</span> <span class="n">xs</span> <span class="ow">=</span> <span class="n">foldr</span> <span class="p">(</span><span class="nf">\</span><span class="n">x</span> <span class="n">acc</span> <span class="ow">-&gt;</span> <span class="kr">if</span> <span class="n">f</span> <span class="n">x</span> <span class="kr">then</span> <span class="n">x</span> <span class="kt">:</span> <span class="n">acc</span> <span class="kr">else</span> <span class="n">acc</span><span class="p">)</span> <span class="kt">[]</span> <span class="n">xs</span></pre></div><div class="step step-level-1" step="23" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="24000" data-y="12000" data-z="0"><h1 id="id12">&#x51FD;&#x6570;&#x53D8;&#x6362;</h1><ul><li>&#x51FD;&#x6570;&#x662F;&#x5934;&#x7B49;&#x516C;&#x6C11;</li><li>compose: <span class="math ">\((f \circ g )(x) = f(g(x))\)</span></li><li>flip: &#x4EA4;&#x6362;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x4F4D;&#x7F6E;<pre class="highlight code haskell"><span class="p">(</span><span class="n">flip</span> <span class="n">concat</span><span class="p">)</span> <span class="s">"Hello,"</span> <span class="s">"world!"</span> <span class="c1">-- "world!hello,"</span></pre></li></ul></div><div class="step step-level-1" step="24" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="24000" data-y="13500" data-z="0"><h1 id="laziness-recursion">Laziness, Recursion</h1><ul><li>Laziness: &#x9664;&#x975E;&#x4E07;&#x4E0D;&#x5F97;&#x5DF2;&#xFF0C;&#x4E0D;&#x5BF9;&#x8868;&#x8FBE;&#x5F0F;&#x6C42;&#x503C;</li><li>&#x901A;&#x5F80;&#x65E0;&#x7A77;&#xFF0C;&#x64CD;&#x7EB5;&#x65E0;&#x7A77;&#x7684;&#x9053;&#x8DEF;</li></ul></div><div class="step step-level-1" step="25" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="24000" data-y="15000" data-z="0"><h1 id="id13">&#x80FD;&#x8FD4;&#x56DE;&#x6240;&#x6709;&#x6B63;&#x6574;&#x6570;&#x7684;&#x51FD;&#x6570;</h1><pre class="highlight code haskell"><span class="nf">positives</span> <span class="ow">::</span> <span class="p">[</span><span class="kt">Int</span><span class="p">]</span>
<span class="nf">positives</span> <span class="ow">=</span> <span class="mi">1</span> <span class="kt">:</span> <span class="n">map</span> <span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="n">positives</span></pre><p>&#x7406;&#x8BBA;&#x4F9D;&#x636E;&#xFF1A;</p><pre class="highlight code haskell"><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span> <span class="kt">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span> <span class="kt">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span></pre></div><div class="step step-level-1" step="26" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="24000" data-y="16500" data-z="0"><h1 id="lazy">&#x4E0D;Lazy&#x7684;&#x5B9E;&#x73B0;</h1><pre class="highlight code javascript"><span class="nx">positives</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">concat</span>
    <span class="p">(</span>
        <span class="nx">positives</span><span class="p">().</span><span class="nx">map</span><span class="p">(</span><span class="nx">x</span> <span class="p">=&gt;</span> <span class="nx">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="p">)</span></pre><p>&#x4E0D;&#x7BA1;&#x5728;&#x4EC0;&#x4E48;&#x60C5;&#x51B5;&#x4E0B;&#x8C03;&#x7528;&#xFF0C;&#x90FD;&#x4F1A;&#x5F62;&#x6210;&#x6B7B;&#x5FAA;&#x73AF;&#xFF01;</p></div><div class="step step-level-1" step="27" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="24000" data-y="18000" data-z="0"><h1 id="id14">&#x7AA5;&#x89C1;&#x65E0;&#x7A77;</h1><pre class="highlight code haskell"><span class="nf">take</span> <span class="mi">10</span> <span class="n">positives</span> <span class="c1">-- [1,2,3,4,5,6,7,8,9,10]</span>
<span class="c1">-- or even...</span>
<span class="kr">let</span> <span class="n">squares</span> <span class="ow">=</span> <span class="n">map</span> <span class="p">(</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span> <span class="n">positives</span>
<span class="nf">take</span> <span class="mi">3</span> <span class="n">squares</span> <span class="c1">-- [1,4,9]</span></pre></div><div class="step step-level-1" step="28" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="24000" data-y="19500" data-z="0"><h1 id="id15">&#x9B54;&#x529B;&#x4E4B;&#x6E90;</h1><p><tt>take</tt> &#x7684;&#x5B9E;&#x73B0;</p><pre class="highlight code haskell"><span class="nf">take</span> <span class="ow">::</span> <span class="kt">Int</span> <span class="ow">-&gt;</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="ow">-&gt;</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span>
<span class="nf">take</span> <span class="kr">_</span> <span class="kt">[]</span> <span class="ow">=</span> <span class="kt">[]</span>
<span class="nf">take</span> <span class="mi">0</span> <span class="kr">_</span> <span class="ow">=</span> <span class="kt">[]</span>
<span class="nf">take</span> <span class="n">n</span> <span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="n">x</span> <span class="kt">:</span> <span class="n">take</span> <span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="n">xs</span></pre><p>&#x5230;&#x5E95;&#x53D1;&#x751F;&#x4E86;&#x4EC0;&#x4E48;...</p><pre class="highlight code haskell"><span class="nf">take</span> <span class="mi">10</span> <span class="n">positives</span> <span class="c1">-- note: positives = 1 : map (+1) positives</span>
<span class="o">==</span> <span class="n">take</span> <span class="mi">10</span> <span class="p">(</span><span class="mi">1</span><span class="kt">:</span><span class="n">map</span> <span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="n">positives</span><span class="p">)</span>
<span class="o">==</span> <span class="mi">1</span> <span class="kt">:</span> <span class="n">take</span> <span class="mi">9</span> <span class="p">(</span><span class="n">map</span> <span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="n">positives</span><span class="p">)</span>
<span class="o">==</span> <span class="mi">1</span> <span class="kt">:</span> <span class="n">take</span> <span class="mi">9</span> <span class="p">(</span><span class="n">map</span> <span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="p">(</span><span class="mi">1</span> <span class="kt">:</span> <span class="n">map</span> <span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="n">positives</span><span class="p">))</span>
<span class="o">==</span> <span class="mi">1</span> <span class="kt">:</span> <span class="n">take</span> <span class="mi">9</span> <span class="p">(</span><span class="mi">2</span> <span class="kt">:</span> <span class="n">map</span> <span class="p">(</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span> <span class="n">positives</span><span class="p">)</span>
<span class="o">==</span> <span class="mi">1</span> <span class="kt">:</span> <span class="mi">2</span> <span class="kt">:</span> <span class="n">take</span> <span class="mi">8</span> <span class="p">(</span><span class="n">map</span> <span class="p">(</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span> <span class="n">positives</span><span class="p">)</span>
<span class="c1">-- ...</span>
<span class="o">==</span> <span class="mi">1</span><span class="kt">:</span><span class="mi">2</span><span class="kt">:</span><span class="mi">3</span><span class="kt">:</span><span class="mi">4</span><span class="kt">:</span><span class="mi">5</span><span class="kt">:</span><span class="mi">6</span><span class="kt">:</span><span class="mi">7</span><span class="kt">:</span><span class="mi">8</span><span class="kt">:</span><span class="mi">9</span><span class="kt">:</span><span class="mi">10</span><span class="kt">:</span> <span class="n">take</span> <span class="mi">0</span> <span class="p">(</span><span class="n">map</span> <span class="p">(</span><span class="o">+</span><span class="mi">10</span><span class="p">)</span> <span class="n">positives</span><span class="p">)</span>
<span class="o">==</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">]</span></pre></div><div class="step step-level-1" step="29" data-y="19500" data-x="22800" data-rotate-x="0" data-rotate-y="0" data-rotate-z="180" data-scale="1" data-z="0"><h1 id="part-iii">Part III: &#x5B9E;&#x9645;&#x5E94;&#x7528;&#x4E2D;&#x7684;&#x4F18;&#x52A3;</h1></div><div class="step step-level-1" step="30" data-rotate-x="0" data-rotate-y="0" data-rotate-z="180" data-scale="1" data-x="21600" data-y="19500" data-z="0"><p>&#x5F88;&#x591A;&#x65F6;&#x5019;&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#x770B;&#x8D77;&#x6765;&#x50CF;&#x4E00;&#x628A;&#x7CBE;&#x5DE7;&#x4F18;&#x7F8E;&#x5374;&#x534E;&#x800C;&#x4E0D;&#x5B9E;&#x7684;&#x7EE3;&#x82B1;&#x5251;&#xFF0C;&#x7684;&#x786E;&#xFF0C;&#x5728;&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x4E4B;&#x4E2D;&#xFF0C;&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#x6709;&#x4E00;&#x4E9B;&#x4E0D;&#x8DB3;&#x4E0E;&#x52A3;&#x52BF;&#x3002;&#x4F46;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x4ED6;&#x4E5F;&#x5177;&#x6709;&#x5F88;&#x591A;&#x547D;&#x4EE4;&#x5F0F;&#x7F16;&#x7A0B;&#x6240;&#x4E0D;&#x5177;&#x5907;&#x7684;&#x4F18;&#x70B9;&#x3002;</p></div><div class="step step-level-1" step="31" data-rotate-x="0" data-rotate-y="0" data-rotate-z="180" data-scale="1" data-x="20400" data-y="19500" data-z="0"><h1 id="id16">&#x52A3;&#x52BF;</h1><pre class="highlight code haskell"><span class="nf">quickSort</span> <span class="ow">::</span> <span class="p">[</span><span class="kt">Int</span><span class="p">]</span> <span class="ow">-&gt;</span> <span class="p">[</span><span class="kt">Int</span><span class="p">]</span>
<span class="nf">quickSort</span> <span class="kt">[]</span> <span class="ow">=</span> <span class="kt">[]</span>
<span class="nf">quicksort</span> <span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span> <span class="ow">=</span>
    <span class="kr">let</span> <span class="n">smaller</span> <span class="ow">=</span> <span class="n">filter</span> <span class="p">(</span><span class="o">&lt;=</span><span class="n">x</span><span class="p">)</span> <span class="n">xs</span>
        <span class="n">larger</span> <span class="ow">=</span> <span class="n">filter</span> <span class="p">(</span><span class="o">&gt;</span><span class="n">x</span><span class="p">)</span> <span class="n">xs</span>
    <span class="kr">in</span> <span class="n">quickSort</span> <span class="n">smaller</span> <span class="o">++</span> <span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">++</span> <span class="n">quickSort</span> <span class="n">larger</span></pre><ul><li>&#x6548;&#x7387;&#xFF01;&#x6548;&#x7387;&#xFF01;&#x6548;&#x7387;&#xFF01;&#xFF08;&#x65F6;&#x95F4;&#xFF0C;&#x7A7A;&#x95F4;&#xFF09;</li><li>&#x4F2A;&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#xFF1A;&#x7528;&#x51FD;&#x6570;&#x5F0F;&#x8BED;&#x8A00;&#x8FDB;&#x884C;&#x6307;&#x4EE4;&#x5F0F;&#x7F16;&#x7A0B;</li></ul></div><div class="step step-level-1" step="32" data-rotate-x="0" data-rotate-y="0" data-rotate-z="180" data-scale="1" data-x="19200" data-y="19500" data-z="0"><h1 id="id17">&#x4F18;&#x52BF;</h1><ul><li>&#x4E0D;&#x53EF;&#x53D8; :: &#x5B89;&#x5168;&#x6027;&#xFF0C;&#x4E00;&#x81F4;&#x6027;</li><li>&#x7EAF;&#x51FD;&#x6570; :: &#x4FBF;&#x4E8E;&#x8C03;&#x8BD5;</li><li>&#x4E8B;&#x5B9E;&#x4E0A;&#x662F;&#x4E00;&#x79CD;&#x66F4;&#x5148;&#x8FDB;&#xFF0C;&#x66F4;&#x6709;&#x7F16;&#x7801;&#x6548;&#x7387;&#x7684;&#x7F16;&#x7A0B;&#x8303;&#x5F0F;</li></ul><p>&#x5982;&#x679C;&#x4F7F;&#x7528;Lisp&#x8BED;&#x8A00;&#xFF0C;&#x80FD;&#x8BA9;&#x7A0B;&#x5E8F;&#x53D8;&#x5F97;&#x591A;&#x77ED;&#xFF1F;&#x4EE5;Lisp&#x548C;C&#x7684;&#x6BD4;&#x8F83;&#x4E3A;&#x4F8B;&#xFF0C;&#x6211;&#x542C;&#x5230;&#x7684;&#x5927;&#x591A;&#x6570;&#x8BF4;&#x6CD5;&#x662F; <strong>C&#x4EE3;&#x7801;&#x7684;&#x957F;&#x5EA6;&#x662F;Lisp&#x7684;7&#x500D;&#x5230;10&#x500D;</strong> &#x3002;&#x4F46;&#x662F;&#x6700;&#x8FD1;&#xFF0C;New Architect&#x6742;&#x5FD7;&#x4E0A;&#x6709;&#x4E00;&#x7BC7;&#x4ECB;&#x7ECD;ITA&#x8F6F;&#x4EF6;&#x516C;&#x53F8;&#x7684;&#x6587;&#x7AE0;&#xFF0C;&#x91CC;&#x9762;&#x8BF4;" <strong>&#x4E00;&#x884C;Lisp&#x4EE3;&#x7801;&#x76F8;&#x5F53;&#x4E8E;20&#x884C;C&#x4EE3;&#x7801;</strong> "&#xFF0C;&#x56E0;&#x4E3A;&#x6B64;&#x6587;&#x90FD;&#x662F;&#x5F15;&#x7528;ITA&#x603B;&#x88C1;&#x7684;&#x8BDD;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x60F3;&#x8FD9;&#x4E2A;&#x6570;&#x5B57;&#x6765;&#x81EA;ITA&#x7684;&#x7F16;&#x7A0B;&#x5B9E;&#x8DF5;&#x3002; &#x5982;&#x679C;&#x771F;&#x662F;&#x8FD9;&#x6837;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x76F8;&#x4FE1;&#x8FD9;&#x53E5;&#x8BDD;&#x3002;ITA&#x7684;&#x8F6F;&#x4EF6;&#xFF0C;&#x4E0D;&#x4EC5;&#x4F7F;&#x7528;Lisp&#x8BED;&#x8A00;&#xFF0C;&#x8FD8;&#x540C;&#x65F6;&#x5927;&#x91CF;&#x4F7F;&#x7528;C&#x548C;C++&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x662F;&#x4ED6;&#x4EEC;&#x7684;&#x7ECF;&#x9A8C;&#x8C08;&#x3002;</p></div><div class="step step-level-1" step="33" data-x="19200" data-y="20700" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-z="0"><h1 id="part-iv-one-step-further">Part IV: One Step Further</h1></div><div class="step step-level-1" step="34" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="19200" data-y="21900" data-z="0"><ul><li>&#x76F8;&#x8F83;&#x4E8E;&#x547D;&#x4EE4;&#x5F0F;&#x7F16;&#x7A0B;&#xFF0C;&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#x66F4;&#x52A0;&#x8D34;&#x8FD1;&#x4E8E;&#x6570;&#x5B66;&#xFF0C;&#x66F4;&#x4E3A;&#x201C;&#x62BD;&#x8C61;&#x201D;&#x3002;</li><li>&#x80CC;&#x540E;&#x7684;&#x6570;&#x5B66;&#x7406;&#x8BBA;&#x3002;</li></ul></div><div class="step step-level-1" step="35" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="19200" data-y="23100" data-z="0"><h1 id="lambda-calculus-y-combinator">1. Lambda Calculus &amp; Y-Combinator</h1></div><div class="step step-level-1" step="36" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="19200" data-y="24300" data-z="0"><h1 id="id18">&#x51E0;&#x4E2A;&#x4F8B;&#x5B50;</h1><div class="math-block ">$$\begin{align}\lambda \ x. x+1 \\
(\lambda \ x. x+1) \ 1\\
\lambda \ a. (\lambda b . a+b) \\
(\lambda \ a. (\lambda b . a+b)) \ 1 \ 2\end{align}$$</div></div><div class="step step-level-1" step="37" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="19200" data-y="25500" data-z="0"><h1 id="id19">&#x6240;&#x4EE5;&#xFF0C;&#x4ED6;&#x5230;&#x5E95;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;</h1><p>&#x7B54;&#x6848;&#xFF1A;&#x4E00;&#x79CD;&#x8BA1;&#x7B97;&#x6A21;&#x578B;&#x3002;</p><p>&#x4EC0;&#x4E48;&#x662F;&#x8BA1;&#x7B97;&#x6A21;&#x578B;&#xFF1F;</p><ul><li>&#x56FE;&#x7075;&#x673A;</li><li>&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x8BA1;&#x7B97;&#x7684;&#x6570;&#x5B66;&#x6A21;&#x578B;</li><li>&#x5B9A;&#x4E49;&#x4E00;&#x7EC4;&#x7B26;&#x53F7;&#xFF0C;&#x4E00;&#x7EC4;&#x89C4;&#x5219;</li></ul></div><div class="step step-level-1" step="38" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="19200" data-y="26700" data-z="0"><h1 id="id20">&#x4E0D;&#x90A3;&#x4E48;&#x4E25;&#x8C28;&#x7684;&#x5B9A;&#x4E49;</h1><p>&#x5408;&#x6CD5;&#x7684;Lambda&#x8868;&#x8FBE;&#x5F0F;</p><ol><li>Variable: <span class="math ">\(x\)</span></li><li>Lambda Abstraction: <span class="math ">\(\lambda \ x. x\)</span></li><li>Lambda Application: <span class="math ">\((\lambda \ x. x) \ y\)</span></li></ol><p>&#x6F14;&#x7B97;&#x89C4;&#x5219;</p><ol><li><span class="math ">\(\alpha\)</span> &#x66FF;&#x6362;: <span class="math ">\(\lambda \ x.3x+1 \rightarrow \lambda \ y . 3y+1\)</span></li><li><span class="math ">\(\beta\)</span> &#x89C4;&#x7EA6;: <span class="math ">\((\lambda \ x.3x+1) \ \pi \rightarrow 3 \pi + 1\)</span></li></ol></div><div class="step step-level-1" step="39" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="19200" data-y="27900" data-z="0"><h1 id="id21">&#x67EF;&#x91CC;&#x5316;</h1><ul><li>Lambda&#x6F14;&#x7B97;&#x4E2D;&#x7684;&#x51FD;&#x6570;&#x6C38;&#x8FDC;&#x53EA;&#x63A5;&#x6536;&#x4E00;&#x4E2A;&#x53C2;&#x6570;</li><li>&#x591A;&#x53C2;&#x6570;&#x51FD;&#x6570;&#x7684;&#x5B9E;&#x73B0;&#x901A;&#x8FC7;&#x67EF;&#x91CC;&#x5316;&#x5B9E;&#x73B0;</li></ul><div class="math-block ">$$\begin{align}\lambda \ a. (\lambda \ b . a+b)\end{align}$$</div><p>&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;</p><pre class="highlight code javascript"><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span></pre><p>&#x5229;&#x7528;&#x67EF;&#x91CC;&#x5316;&#x53EF;&#x4EE5;&#x5199;&#x6210;</p><pre class="highlight code javascript"><span class="nx">a</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="nx">b</span> <span class="p">=&gt;</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">)</span></pre></div><div class="step step-level-1" step="40" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="19200" data-y="29100" data-z="0"><h1 id="y-combinator">Y Combinator</h1><ul><li>&#x600E;&#x6837;&#x5728; <span class="math ">\(\lambda\)</span>-calculus &#x4E2D;&#x5B9E;&#x73B0;&#x9012;&#x5F52;&#xFF1F;</li><li>Y&#x7EC4;&#x5408;&#x5B50;: &#x751F;&#x6210;&#x9012;&#x5F52;&#x51FD;&#x6570;&#x7684;&#x9B54;&#x672F;&#x68D2;</li></ul><p>Y&#x7EC4;&#x5408;&#x5B50;&#x7684;&#x5F62;&#x5F0F;</p><div class="math-block ">$$\begin{align}Y := \lambda \ f. (\lambda \ x. f \ x \ x) \ (\lambda \ x. f \ x \ x)\end{align}$$</div></div><div class="step step-level-1" step="41" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="19200" data-y="30300" data-z="0"><h1 id="id22">&#x9012;&#x5F52;&#xFF1F;&#x4E0D;&#x52A8;&#x70B9;&#xFF1F;</h1><p>Y&#x7EC4;&#x5408;&#x5B50;&#x4E8B;&#x5B9E;&#x4E0A;&#x6C42;&#x51FA;&#x4E86;&#x51FD;&#x6570;&#x7684;&#x4E0D;&#x52A8;&#x70B9;:</p><div class="math-block ">$$\begin{align}Y \ f =  f \ (Y \ f)\end{align}$$</div><p>&#x4E0D;&#x52A8;&#x70B9;&#x548C;&#x9012;&#x5F52;&#x6709;&#x4EC0;&#x4E48;&#x5173;&#x7CFB;&#xFF1F;</p><p>&#x6784;&#x9020;&#x8F85;&#x52A9;&#x51FD;&#x6570;</p><pre class="highlight code haskell"><span class="nf">metaFact</span> <span class="n">fact</span> <span class="n">n</span> <span class="ow">=</span> <span class="kr">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span> <span class="kr">then</span> <span class="mi">1</span> <span class="kr">else</span> <span class="n">n</span> <span class="o">*</span> <span class="n">fact</span> <span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span></pre><ul><li><tt>fact</tt> &#x662F;&#x4E00;&#x4E2A;&#x672A;&#x77E5;&#x91CF;(<span class="math ">\(x\)</span>)&#xFF1A;&#x6211;&#x4EEC;&#x8981;&#x6C42;&#x89E3;&#x7684;&#x9012;&#x5F52;&#x51FD;&#x6570;</li><li><tt>metaFact fact</tt> <span class="math ">\(=\)</span> <tt>fact</tt> !!</li><li><span class="math ">\(f(x) = x\)</span> &#x4E0D;&#x52A8;&#x70B9;</li></ul></div><div class="step step-level-1" step="42" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="19200" data-y="31500" data-z="0"><h1 id="id23">&#x5C0F;&#x7ED3;</h1><ol><li><tt>metaFact</tt> &#x7684;&#x4E0D;&#x52A8;&#x70B9;&#x5373;&#x4E3A;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x7684;&#x9012;&#x5F52;&#x51FD;&#x6570; <tt>fact</tt></li><li>Y&#x7EC4;&#x5408;&#x5B50;&#x80FD;&#x6C42;&#x51FA;&#x51FD;&#x6570;&#x7684;&#x4E0D;&#x52A8;&#x70B9;</li><li>Y + &#x8F85;&#x52A9;&#x51FD;&#x6570; = &#x9012;&#x5F52;!</li></ol></div><div class="step step-level-1" step="43" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="19200" data-y="32700" data-z="0"><h1 id="id24">2. &#x7C7B;&#x578B;&#x7CFB;&#x7EDF;</h1></div><div class="step step-level-1" step="44" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="19200" data-y="33900" data-z="0"><ol><li>&#x7C7B;&#x578B;&#x7CFB;&#x7EDF;&#x7684;&#x80CC;&#x540E;&#x662F;&#x7C7B;&#x578B;&#x8BBA;</li><li>&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x4E2D;&#x7684;&#x7C7B;&#x578B;&#x68C0;&#x67E5;&#x3001;&#x63A8;&#x5BFC;&#x548C;&#x8FD0;&#x7B97;&#x4F53;&#x7CFB;</li><li>&#x76EE;&#x7684;&#xFF1A;&#x51CF;&#x5C11;bug</li><li>&#x51FD;&#x6570;&#x5F0F;&#x8BED;&#x8A00; <span class="math ">\(\neq\)</span> &#x5F31;&#x7C7B;&#x578B;&#x8BED;&#x8A00;</li></ol></div><div class="step step-level-1" step="45" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="19200" data-y="35100" data-z="0"><h1 id="monad">3. Monad</h1></div><div class="step step-level-1" step="46" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="19200" data-y="36300" data-z="0"><p>&#x201C;&#x4E00;&#x4E2A;&#x5355;&#x5B50;&#xFF08;Monad&#xFF09;&#x8BF4;&#x767D;&#x4E86;&#x4E0D;&#x8FC7;&#x5C31;&#x662F;&#x81EA;&#x51FD;&#x5B50;&#x8303;&#x7574;&#x4E0A;&#x7684;&#x4E00;&#x4E2A;&#x5E7A;&#x534A;&#x7FA4;&#x800C;&#x5DF2;&#x3002;&#x201D;</p><p>&#x201C;A monad is just a monoid in the category of endofunctors, what's the problem?&#x201D;</p><p>by James Iry in <em>Brief, Incomplete and Mostly Wrong History of Programming Languages</em></p></div><div class="step step-level-1" step="47" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="19200" data-y="37500" data-z="0"><h1 id="id25">Monad&#x5230;&#x5E95;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;</h1><ol><li>&#x672C;&#x8D28;&#xFF1A;&#x6E90;&#x4E8E;&#x8303;&#x7574;&#x8BBA;</li><li>&#x5B9E;&#x9645;&#x5E94;&#x7528;&#xFF1A;&#x4E0E;&#x6570;&#x5B66;&#x7406;&#x8BBA;&#x5173;&#x7CFB;&#x4E0D;&#x5927;</li></ol></div><div class="step step-level-1" step="48" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="19200" data-y="38700" data-z="0"><h1 id="id26">&#x201C;&#x8FD0;&#x7B97;&#x63CF;&#x8FF0;&#x201D;</h1><ul><li>&#x201C;&#x7EAF;&#x201D;&#x4E0E;&#x201C;&#x4E0D;&#x7EAF;&#x201D;</li><li>&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x9700;&#x8981;&#x201C;&#x72B6;&#x6001;&#x201D;</li><li>&#x63CF;&#x8FF0;&#x8FD0;&#x7B97;&#x800C;&#x4E0D;&#x662F;&#x6267;&#x884C;&#x8FD0;&#x7B97;</li></ul><pre class="highlight code haskell"><span class="nf">main</span> <span class="ow">::</span> <span class="kt">IO</span> <span class="nb">()</span>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">putStrLn</span> <span class="s">"What is your name?"</span>
    <span class="n">name</span> <span class="ow">&lt;-</span> <span class="n">getLine</span>
    <span class="n">putStrLn</span> <span class="s">"Hello, "</span> <span class="o">++</span> <span class="n">name</span></pre></div><div class="step step-level-1" step="49" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="19200" data-y="39900" data-z="0"><h1 id="haskell">4. Haskell&#x4E2D;&#x7684;&#x7406;&#x8BBA;&#x4F53;&#x73B0;</h1></div><div class="step step-level-1" step="50" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="19200" data-y="41100" data-z="0"><p>Haskell&#x7684;&#x6545;&#x4E8B;</p><ol><li>&#x7531;&#x4E00;&#x7FA4;&#x8BA1;&#x7B97;&#x673A;&#x7406;&#x8BBA;&#x535A;&#x58EB;&#x8BBE;&#x8BA1;</li><li>&#x4E00;&#x4E2A;&#x73A9;&#x5177;&#xFF0C;&#x4E00;&#x4E2A;&#x8BD5;&#x9A8C;&#x573A;</li></ol></div><div class="step step-level-1" step="51" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="19200" data-y="42300" data-z="0"><h1 id="lambda-calculus-currying">Lambda Calculus &amp; Currying</h1><pre class="highlight code haskell"><span class="nf">add</span> <span class="ow">::</span> <span class="kt">Int</span> <span class="ow">-&gt;</span> <span class="kt">Int</span> <span class="ow">-&gt;</span> <span class="kt">Int</span>
<span class="nf">add</span> <span class="n">x</span> <span class="n">y</span> <span class="ow">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span></pre><pre class="highlight code haskell"><span class="nf">addOne</span> <span class="ow">::</span> <span class="kt">Int</span> <span class="ow">-&gt;</span> <span class="kt">Int</span>
<span class="nf">addOne</span> <span class="ow">=</span> <span class="n">add</span> <span class="mi">1</span></pre><pre class="highlight code haskell"><span class="nf">addOne</span> <span class="n">y</span> <span class="ow">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">y</span></pre><pre class="highlight code haskell"><span class="nf">add</span> <span class="ow">::</span> <span class="kt">Int</span> <span class="ow">-&gt;</span> <span class="p">(</span><span class="kt">Int</span> <span class="ow">-&gt;</span> <span class="kt">Int</span><span class="p">)</span></pre></div><div class="step step-level-1" step="52" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="19200" data-y="43500" data-z="0"><h1 id="type-system">Type System</h1><p>Haskell&#x5177;&#x6709;&#x5B8C;&#x5907;&#x4E14;&#x5F3A;&#x5927;&#x7684;&#x7C7B;&#x578B;&#x7CFB;&#x7EDF;&#x3002;</p><p>&#x4F8B;&#x5B50;&#xFF1A;&#x4EE3;&#x6570;&#x6570;&#x636E;&#x7C7B;&#x578B;</p><p>&#x81EA;&#x5B9A;&#x4E49;&#x5217;&#x8868;</p><pre class="highlight code haskell"><span class="kr">data</span> <span class="kt">List</span> <span class="n">a</span> <span class="ow">=</span> <span class="kt">EmptyList</span> <span class="o">|</span> <span class="kt">Cons</span> <span class="n">a</span> <span class="p">(</span><span class="kt">List</span> <span class="n">a</span><span class="p">)</span></pre><p>&#x81EA;&#x5B9A;&#x4E49;&#x4E8C;&#x53C9;&#x6811;</p><pre class="highlight code haskell"><span class="kr">data</span> <span class="kt">Tree</span> <span class="n">a</span> <span class="ow">=</span> <span class="kt">EmptyTree</span> <span class="o">|</span> <span class="kt">Node</span> <span class="n">a</span> <span class="p">(</span><span class="kt">Tree</span> <span class="n">a</span><span class="p">)</span> <span class="p">(</span><span class="kt">Tree</span> <span class="n">a</span><span class="p">)</span></pre></div><div class="step step-level-1" step="53" data-rotate-x="0" data-rotate-y="0" data-rotate-z="90" data-scale="1" data-x="19200" data-y="44700" data-z="0"><h1 id="id27">Monad</h1></div><div class="step step-level-1" step="54" data-rotate-y="180" data-y="44700" data-x="18200" data-rotate-x="0" data-rotate-z="90" data-scale="1" data-z="0"><h1 id="id28">&#x8C22;&#x8C22;&#x5927;&#x5BB6;&#xFF01;</h1></div></div><div class="footer"><p>Introdunction to Functional Programming</p></div><script type="text/javascript" src="js/impress.js"></script><script type="text/javascript" src="js/gotoSlide.js"></script><script type="text/javascript" src="js/hovercraft.js"></script><script type="text/javascript" src="js/app.js"></script></body></html>